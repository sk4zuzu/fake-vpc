
```bash
$ (cd kubelo/ && ansible-playbook kubelo.yml)
```
```
PLAY [bastion] ********************************************************************************************************************************************************************************

TASK [bastion/openssh/configure : create local .ssh directory tree] ***************************************************************************************************************************
ok: [vpc1u -> localhost] => (item=/home/asd/_git/fake-vpc/kubelo/.ssh)
ok: [vpc1u -> localhost] => (item=/home/asd/_git/fake-vpc/kubelo/.ssh/config.d)

TASK [bastion/openssh/configure : generate bastion ssh main config] ***************************************************************************************************************************
ok: [vpc1u -> localhost]

TASK [bastion/openssh/configure : generate bastion ssh cluster config] ************************************************************************************************************************
ok: [vpc1u -> localhost]

PLAY [etcd,master,compute] ********************************************************************************************************************************************************************

TASK [python3/package/install : boostrap python3 intepreter] **********************************************************************************************************************************
skipping: [k1m3]
skipping: [k1c1]
skipping: [k1m1]
skipping: [k1m2]

TASK [python3/package/install : ensure pip packages] ******************************************************************************************************************************************
changed: [k1m2]
changed: [k1m3]
changed: [k1m1]
changed: [k1c1]

PLAY [etcd,master,compute] ********************************************************************************************************************************************************************

TASK [Gathering Facts] ************************************************************************************************************************************************************************
ok: [k1m2]
ok: [k1m3]
ok: [k1m1]
ok: [k1c1]

TASK [network/gather : gather etcd short hostnames] *******************************************************************************************************************************************
ok: [k1m1]
ok: [k1m2]
ok: [k1m3]
ok: [k1c1]

TASK [network/gather : gather etcd fqdn addresses] ********************************************************************************************************************************************
ok: [k1m1]
ok: [k1m2]
ok: [k1m3]
ok: [k1c1]

TASK [network/gather : gather etcd ipv4 addresses] ********************************************************************************************************************************************
ok: [k1m1]
ok: [k1m2]
ok: [k1m3]
ok: [k1c1]

TASK [network/gather : gather master short hostnames] *****************************************************************************************************************************************
ok: [k1m1]
ok: [k1m2]
ok: [k1m3]
ok: [k1c1]

TASK [network/gather : gather master fqdn addresses] ******************************************************************************************************************************************
ok: [k1m1]
ok: [k1m2]
ok: [k1m3]
ok: [k1c1]

TASK [network/gather : gather master ipv4 addresses] ******************************************************************************************************************************************
ok: [k1m1]
ok: [k1m2]
ok: [k1m3]
ok: [k1c1]

TASK [network/gather : gather compute short hostnames] ****************************************************************************************************************************************
ok: [k1m1]
ok: [k1m2]
ok: [k1m3]
ok: [k1c1]

TASK [network/gather : gather compute fqdn addresses] *****************************************************************************************************************************************
ok: [k1m1]
ok: [k1m2]
ok: [k1m3]
ok: [k1c1]

TASK [network/gather : gather compute ipv4 addresses] *****************************************************************************************************************************************
ok: [k1m1]
ok: [k1m2]
ok: [k1m3]
ok: [k1c1]

PLAY [master,compute] *************************************************************************************************************************************************************************

TASK [haproxy/service/install : install haproxy] **********************************************************************************************************************************************
changed: [k1m3]
changed: [k1m2]
changed: [k1c1]
changed: [k1m1]

TASK [haproxy/service/configure : set_fact] ***************************************************************************************************************************************************
ok: [k1m1]
ok: [k1m2]
ok: [k1m3]
ok: [k1c1]

TASK [haproxy/service/configure : render haproxy config] **************************************************************************************************************************************
changed: [k1m2]
changed: [k1m3]
changed: [k1c1]
changed: [k1m1]

TASK [haproxy/service/configure : update /etc/hosts] ******************************************************************************************************************************************
changed: [k1m1]
changed: [k1m3]
changed: [k1c1]
changed: [k1m2]

TASK [dockerce/service/install : import docker-ce repository gpg key] *************************************************************************************************************************
ok: [k1m1]
ok: [k1c1]
ok: [k1m2]
ok: [k1m3]

TASK [dockerce/service/install : add docker-ce repository] ************************************************************************************************************************************
changed: [k1m3]
changed: [k1m2]
changed: [k1m1]
changed: [k1c1]

TASK [dockerce/service/install : set_fact] ****************************************************************************************************************************************************
ok: [k1m1]
ok: [k1m2]
ok: [k1m3]
ok: [k1c1]

TASK [dockerce/service/install : install docker-ce] *******************************************************************************************************************************************
ok: [k1m3]
ok: [k1m2]
ok: [k1m1]
ok: [k1c1]

RUNNING HANDLER [haproxy/service/install : restart haproxy] ***********************************************************************************************************************************
changed: [k1m3]
changed: [k1m1]
changed: [k1m2]
changed: [k1c1]

PLAY [etcd] ***********************************************************************************************************************************************************************************

TASK [etcd/openssl/bootstrap : set_fact] ******************************************************************************************************************************************************
ok: [k1m1]

TASK [etcd/openssl/bootstrap : set_fact] ******************************************************************************************************************************************************
ok: [k1m1]

TASK [etcd/openssl/bootstrap : file] **********************************************************************************************************************************************************
changed: [k1m1] => (item=/etc/etcd)
changed: [k1m1] => (item=/etc/etcd/pki)
changed: [k1m1] => (item=/etc/etcd/pki/key)
changed: [k1m1] => (item=/etc/etcd/pki/csr)
changed: [k1m1] => (item=/etc/etcd/pki/crt)

TASK [etcd/openssl/bootstrap : generate etcd-ca private key] **********************************************************************************************************************************
changed: [k1m1]

TASK [etcd/openssl/bootstrap : stat] **********************************************************************************************************************************************************
ok: [k1m1]

TASK [etcd/openssl/bootstrap : generate etcd-ca certificate signing request] ******************************************************************************************************************
changed: [k1m1]

TASK [etcd/openssl/bootstrap : generate self-signed etcd-ca certificate] **********************************************************************************************************************
changed: [k1m1]

TASK [etcd/openssl/bootstrap : generate etcd private key] *************************************************************************************************************************************
changed: [k1m1]

TASK [etcd/openssl/bootstrap : stat] **********************************************************************************************************************************************************
ok: [k1m1]

TASK [etcd/openssl/bootstrap : generate etcd certificate signing request] *********************************************************************************************************************
changed: [k1m1]

TASK [etcd/openssl/bootstrap : generate signed etcd certificate] ******************************************************************************************************************************
changed: [k1m1]

TASK [etcd/openssl/bootstrap : generate etcd-peer private key] ********************************************************************************************************************************
changed: [k1m1]

TASK [etcd/openssl/bootstrap : stat] **********************************************************************************************************************************************************
ok: [k1m1]

TASK [etcd/openssl/bootstrap : generate etcd-peer certificate signing request] ****************************************************************************************************************
changed: [k1m1]

TASK [etcd/openssl/bootstrap : generate signed etcd-peer certificate] *************************************************************************************************************************
changed: [k1m1]

TASK [etcd/openssl/replicate : ensure local cache directory] **********************************************************************************************************************************
ok: [k1m1 -> localhost] => (item=absent)
ok: [k1m1 -> localhost] => (item=directory)

TASK [etcd/openssl/replicate : pull etcd pki to local cache] **********************************************************************************************************************************
ok: [k1m1]

TASK [etcd/openssl/replicate : push etcd pki from local cache] ********************************************************************************************************************************
skipping: [k1m1]
changed: [k1m2]
changed: [k1m3]

TASK [etcd/service/install : set_fact] ********************************************************************************************************************************************************
ok: [k1m1]
ok: [k1m2]
ok: [k1m3]

TASK [etcd/service/install : download etcd binary package] ************************************************************************************************************************************
changed: [k1m1]
changed: [k1m2]
changed: [k1m3]

TASK [etcd/service/install : extract etcd binary package] *************************************************************************************************************************************
changed: [k1m1]
changed: [k1m2]
changed: [k1m3]

TASK [etcd/service/install : render etcd systemd unit] ****************************************************************************************************************************************
changed: [k1m3]
changed: [k1m2]
changed: [k1m1]

TASK [etcd/service/install : systemd daemon reload] *******************************************************************************************************************************************
ok: [k1m3]
ok: [k1m2]
ok: [k1m1]

TASK [etcd/service/configure : set_fact] ******************************************************************************************************************************************************
ok: [k1m1]
ok: [k1m2]
ok: [k1m3]

TASK [etcd/service/configure : set_fact] ******************************************************************************************************************************************************
ok: [k1m1] => (item=['k1m1', '10.10.1.246'])
ok: [k1m1] => (item=['k1m2', '10.10.2.133'])
ok: [k1m2] => (item=['k1m1', '10.10.1.246'])
ok: [k1m1] => (item=['k1m3', '10.10.3.222'])
ok: [k1m3] => (item=['k1m1', '10.10.1.246'])
ok: [k1m2] => (item=['k1m2', '10.10.2.133'])
ok: [k1m3] => (item=['k1m2', '10.10.2.133'])
ok: [k1m2] => (item=['k1m3', '10.10.3.222'])
ok: [k1m3] => (item=['k1m3', '10.10.3.222'])

TASK [etcd/service/configure : set_fact] ******************************************************************************************************************************************************
ok: [k1m1]
ok: [k1m2]
ok: [k1m3]

TASK [etcd/service/configure : generate etcd yaml config] *************************************************************************************************************************************
changed: [k1m3]
changed: [k1m1]
changed: [k1m2]

RUNNING HANDLER [etcd/service/install : restart etcd] *****************************************************************************************************************************************
changed: [k1m2]
changed: [k1m3]
changed: [k1m1]

PLAY [master] *********************************************************************************************************************************************************************************

TASK [master/kubeadm/install : set_fact] ******************************************************************************************************************************************************
ok: [k1m1]
ok: [k1m2]
ok: [k1m3]

TASK [master/kubeadm/install : set_fact] ******************************************************************************************************************************************************
ok: [k1m1]
ok: [k1m2]
ok: [k1m3]

TASK [master/kubeadm/install : import kubernetes repository gpg key] **************************************************************************************************************************
ok: [k1m3]
ok: [k1m2]
ok: [k1m1]

TASK [master/kubeadm/install : add kubernetes repository] *************************************************************************************************************************************
changed: [k1m2]
changed: [k1m1]
changed: [k1m3]

TASK [master/kubeadm/install : install binaries] **********************************************************************************************************************************************
ok: [k1m2]
ok: [k1m1]
ok: [k1m3]

TASK [master/kubeadm/install : pull docker images] ********************************************************************************************************************************************
ok: [k1m2]
ok: [k1m3]
ok: [k1m1]

TASK [master/kubeadm/configure : set_fact] ****************************************************************************************************************************************************
ok: [k1m1] => (item=k1m1.vpc1.local)
ok: [k1m1] => (item=k1m2.vpc1.local)
ok: [k1m2] => (item=k1m1.vpc1.local)
ok: [k1m1] => (item=k1m3.vpc1.local)
ok: [k1m2] => (item=k1m2.vpc1.local)
ok: [k1m3] => (item=k1m1.vpc1.local)
ok: [k1m2] => (item=k1m3.vpc1.local)
ok: [k1m3] => (item=k1m2.vpc1.local)
ok: [k1m3] => (item=k1m3.vpc1.local)

TASK [master/kubeadm/configure : set_fact] ****************************************************************************************************************************************************
ok: [k1m1]
ok: [k1m2]
ok: [k1m3]

TASK [master/kubeadm/configure : render kubeadm config] ***************************************************************************************************************************************
changed: [k1m2]
changed: [k1m1]
changed: [k1m3]

TASK [master/kubeadm/configure : render profile config] ***************************************************************************************************************************************
changed: [k1m2]
changed: [k1m1]
changed: [k1m3]

TASK [master/kubeadm/bootstrap : stat] ********************************************************************************************************************************************************
ok: [k1m1]

TASK [master/kubeadm/bootstrap : initialize kubernetes cluster] *******************************************************************************************************************************
changed: [k1m1]

TASK [master/kubeadm/bootstrap : create compute bootstrap token] ******************************************************************************************************************************
changed: [k1m1]

TASK [master/kubeadm/bootstrap : reconstruct bootstrap hash] **********************************************************************************************************************************
changed: [k1m1]

TASK [master/kubeadm/bootstrap : stat] ********************************************************************************************************************************************************
ok: [k1m1]

TASK [master/kubeadm/bootstrap : download flannel manifest] ***********************************************************************************************************************************
changed: [k1m1]

TASK [master/kubeadm/bootstrap : deploy flannel network] **************************************************************************************************************************************
changed: [k1m1]

TASK [master/kubeadm/replicate : ensure local cache directory] ********************************************************************************************************************************
ok: [k1m1 -> localhost] => (item=absent)
ok: [k1m1 -> localhost] => (item=directory)

TASK [master/kubeadm/replicate : pull kubernetes pki to local cache] **************************************************************************************************************************
ok: [k1m1]

TASK [master/kubeadm/replicate : push kubernetes pki from local cache] ************************************************************************************************************************
changed: [k1m1]
changed: [k1m3]
changed: [k1m2]

TASK [master/kubeadm/replicate : extend kuberentes control plane] *****************************************************************************************************************************
skipping: [k1m1]
changed: [k1m3]
changed: [k1m2]

PLAY [compute] ********************************************************************************************************************************************************************************

TASK [compute/kubeadm/install : set_fact] *****************************************************************************************************************************************************
ok: [k1c1]

TASK [compute/kubeadm/install : set_fact] *****************************************************************************************************************************************************
ok: [k1c1]

TASK [compute/kubeadm/install : import kubernetes repository gpg key] *************************************************************************************************************************
ok: [k1c1]

TASK [compute/kubeadm/install : add kubernetes repository] ************************************************************************************************************************************
changed: [k1c1]

TASK [compute/kubeadm/install : install binaries] *********************************************************************************************************************************************
ok: [k1c1]

TASK [compute/kubeadm/install : pull docker images] *******************************************************************************************************************************************
ok: [k1c1]

TASK [compute/kubeadm/replicate : push token/hash from local cache] ***************************************************************************************************************************
changed: [k1c1]

TASK [compute/kubeadm/configure : lineinfile] *************************************************************************************************************************************************
skipping: [k1c1]

TASK [compute/kubeadm/configure : enable cloud provider] **************************************************************************************************************************************
skipping: [k1c1]

TASK [compute/kubeadm/configure : lineinfile] *************************************************************************************************************************************************
skipping: [k1c1]

TASK [compute/kubeadm/configure : enable node labels] *****************************************************************************************************************************************
skipping: [k1c1]

TASK [compute/kubeadm/configure : initialize compute nodes] ***********************************************************************************************************************************
changed: [k1c1]

PLAY [master] *********************************************************************************************************************************************************************************

TASK [master/helm/install : set_fact] *********************************************************************************************************************************************************
ok: [k1m1]
ok: [k1m2]
ok: [k1m3]

TASK [master/helm/install : download helm binary package] *************************************************************************************************************************************
changed: [k1m3]
changed: [k1m1]
changed: [k1m2]

TASK [master/helm/install : deploy helm] ******************************************************************************************************************************************************
changed: [k1m2]
changed: [k1m3]
changed: [k1m1]

TASK [master/helm/install : ensure /usr/local/bin/helm is executable] *************************************************************************************************************************
ok: [k1m2]
ok: [k1m3]
ok: [k1m1]

TASK [master/tiller/bootstrap : ensure service account for tiller] ****************************************************************************************************************************
changed: [k1m1]

TASK [master/tiller/bootstrap : ensure cluster role binding for tiller] ***********************************************************************************************************************
changed: [k1m1]

TASK [master/tiller/bootstrap : deploy tiller] ************************************************************************************************************************************************
changed: [k1m1]

PLAY RECAP ************************************************************************************************************************************************************************************
k1c1                       : ok=28   changed=9    unreachable=0    failed=0    skipped=5    rescued=0    ignored=0
k1m1                       : ok=74   changed=35   unreachable=0    failed=0    skipped=3    rescued=0    ignored=0
k1m2                       : ok=47   changed=19   unreachable=0    failed=0    skipped=1    rescued=0    ignored=0
k1m3                       : ok=47   changed=19   unreachable=0    failed=0    skipped=1    rescued=0    ignored=0
vpc1u                      : ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
```

[//]: # ( vim:set ts=2 sw=2 et syn=markdown: )
